document.addEventListener("DOMContentLoaded",(function(){t.getCryptoList().then((n=>{const i=document.getElementById("cryptoCurrContainer");!function(n,i){const o=document.createElement("ul"),a=[];n.forEach((n=>{const i=document.createElement("li"),o=document.createElement("a");o.setAttribute("class","link"),o.setAttribute("target","_blank"),o.innerHTML=`${n.name} (${n.symbol})`,o.onclick=function(){var i;i=n.id,t.getCryptoInfo(i).then((t=>{!function(t){const n=document.getElementById("name"),i=document.getElementById("id"),o=document.getElementById("symbol"),a=document.getElementById("marketCap"),r=document.getElementById("supply"),l=document.getElementById("price"),c=document.getElementById("dayChange");n.innerHTML=`${t.name} (${t.symbol})`,i.innerHTML=`Id: ${t.id}`,o.innerHTML=`Symbol: ${t.symbol}`,a.innerHTML=`Market cap: ${parseFloat(t.marketCapUsd).toFixed(3)}`,r.innerHTML=`Supply: ${parseFloat(t.supply).toFixed(3)}`,l.innerHTML=`Price: ${parseFloat(t.priceUsd).toFixed(3)}`,"-"===t.changePercent24Hr[0]?(c.style.backgroundColor="red",c.innerHTML=`Day change: ${parseFloat(t.changePercent24Hr).toFixed(3)}%`):(c.style.backgroundColor="green",c.innerHTML=`Day change: ${parseFloat(t.changePercent24Hr).toFixed(3)}%`),function(t,n){const i=document.getElementById("intervalD1Button");i.style.visibility="visible",i.onclick=function(){e(t,"d1",n)};const o=document.getElementById("intervalH12Button");o.style.visibility="visible",o.onclick=function(){e(t,"h12",n)};const a=document.getElementById("intervalH6Button");a.style.visibility="visible",a.onclick=function(){e(t,"h6",n)};const r=document.getElementById("intervalH2Button");r.style.visibility="visible",r.onclick=function(){e(t,"h2",n)};const l=document.getElementById("intervalH1Button");l.style.visibility="visible",l.onclick=function(){e(t,"h1",n)};const c=document.getElementById("intervalM30Button");c.style.visibility="visible",c.onclick=function(){e(t,"m30",n)}}(t.id,t.name)}(t.data)})),e(n.id,"d1",n.name)},i.replaceChildren(o),a.push(i)})),o.append(...a),i.replaceChildren(o)}(n.data,i)}))}));const t=new class{constructor(t="https://api.coincap.io/v2/assets"){this.baseUrl=t}getCryptoList(){return fetch(`${this.baseUrl}`).then((t=>t.json()))}getCryptoInfo(t){return fetch(`${this.baseUrl}/${t}`).then((t=>t.json()))}getCryptoHistory(t,e="d1"){return fetch(`${this.baseUrl}/${t}/history?interval=${e}`).then((t=>t.json()))}};function e(e,n,i){t.getCryptoHistory(e,n).then((t=>{!function(t,e){const n=[];t.forEach((t=>{const e=[t.time,parseFloat(t.priceUsd)];n.push(e)})),function(t,e){Highcharts.chart("graphicContainer",{chart:{type:"area",zoomType:"x",panning:!0,panKey:"shift",scrollablePlotArea:{minWidth:600}},title:{text:e},credits:{enabled:!1},xAxis:{type:"datetime",labels:{formatter:function(){return Highcharts.dateFormat("%b%e",this.value)}},minRange:5,title:{text:"Days"}},yAxis:{startOnTick:!0,endOnTick:!1,maxPadding:.35,title:{text:"Dollars"},labels:{format:"{value}"}},tooltip:{formatter:function(){return`${parseFloat(this.y).toFixed(2)} usd <br> ${Highcharts.dateFormat("%b %e",this.x)}`},shared:!0},legend:{enabled:!1},series:[{data:t,lineColor:Highcharts.getOptions().colors[1],color:Highcharts.getOptions().colors[2],fillOpacity:.5,name:"Elevation",marker:{enabled:!1},threshold:null}]})}(n,e)}(t.data,i),console.log(t.data)}))}